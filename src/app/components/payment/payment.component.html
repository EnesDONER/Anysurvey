<div
  class="modal fade mb-3"
  id="payModal"
  tabindex="-1"
  aria-labelledby="payModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body d-flex justify-content-center align-items-center">
      
        <div class="container mt-3 mb-3">
            <div class="row">
            <div class="col col2">
              <h3 class="text-center" *ngIf="cards.length>0">Select Card</h3>
              <div class="text-center my-2">
                <div *ngFor="let card of cards" class="card m-4" [ngClass]="{'selected': card.id === cardId}" (click)="setCardId(card.id)">
                  <div class="card-body">
                    <h5 class="card-title"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M64 32C28.7 32 0 60.7 0 96v32H576V96c0-35.3-28.7-64-64-64H64zM576 224H0V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V224zM112 352h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H240c-8.8 0-16-7.2-16-16z"/></svg>
                    </h5>
                    <p class="card-text">{{card.holderName}}</p>
                    <p class="card-text">{{card.cardNumber}}</p>
                  </div>
                </div>
              </div>
              <div> 
                <div *ngIf="cards.length==0" class="text-center"><span class="text-danger">You don't have a card!</span> Please add card</div>
                <button class="addCard" data-bs-toggle="modal"
                data-bs-target="#addCardModal" >Add new Card</button>
              </div>
              <button *ngIf="cards.length>0" class="buy" data-bs-dismiss="modal" (click)="payment();"><i class="material-icons"></i> Pay {{fee}} $</button>
            </div>
          </div>
          </div>
   
      </div>
    </div>
  </div>
</div>


<!-- card add modal -->

<div
  class="modal fade mb-3"
  id="addCardModal"
  tabindex="-1"
  aria-labelledby="addCardModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body d-flex justify-content-center align-items-center">
      
        <div class="container mt-3 mb-3">
            <div class="row">
            <div  class="col col1">
              <div id="card" class="card">
                <div id="front" class="front">
                  <div class="type">
                    <img class="bankid"/>
                  </div>
                  <span class="chip"></span>
                  <span id="card_number" class="card_number">&#x25CF;&#x25CF;&#x25CF;&#x25CF; &#x25CF;&#x25CF;&#x25CF;&#x25CF; &#x25CF;&#x25CF;&#x25CF;&#x25CF; &#x25CF;&#x25CF;&#x25CF;&#x25CF; </span>
                  <div id="date" class="date"><span class="date_value">MM / YYYY</span></div>
                  <span id="fullname" class="fullname">FULL NAME</span>
                </div>
                <div id="back" class="back" style="visibility:hidden;">
                  <div class="magnetic"></div>
                  <div id="cvv" class="bar"></div>
                  <span class="chip"></span><span class="disclaimer">This card is property of Random Bank of Random corporation. <br> If found please return to Random Bank of Random corporation - 21968 Paris, Verdi Street, 34 </span>
                </div>
              </div>
            </div>
            <div class="col col2">
              <label>Card Number</label>
              <input class="number" [(ngModel)]="ncard" type="number" (keydown)="onCardNumberKeyDown($event,16)" />
              <label>Cardholder name</label>
              <input class="inputname" [(ngModel)]="namecard"type="text" minlength="3" maxlength="25"/>
              <label>Expiry date</label>
              <input class="expire" type="month" [(ngModel)]="date"/>
              <label>Security Number</label>
              <input (focus)="turn()" (blur)="turn()" class="cvv" type="number" [(ngModel)]="cvv" placeholder="CVV" (keydown)="onCardNumberKeyDown($event,3)"/>
              
              <button class="buy" data-bs-dismiss="modal" (click)="setDataEvent(); addCard()"><i class="material-icons"></i> Add card </button>
            </div>
          </div>
          </div>
   
      </div>
    </div>
  </div>
</div>